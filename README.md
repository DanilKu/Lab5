# Lab5 -    

Полнофункциональное веб-приложение с регистрацией и входом пользователей, реализованное на React (Frontend) и Flask (Backend) с использованием JWT-авторизации.

## Структура проекта

```
lab5_luts/
├── backend/          # Flask backend
│   ├── app.py       # Основной файл приложения
│   └── requirements.txt
├── frontend/         # React frontend
│   ├── src/
│   │   ├── components/
│   │   ├── context/
│   │   └── ...
│   └── package.json
└── README.md
```

## Установка и запуск

### Backend (Flask)

1. Перейдите в директорию backend:
```bash
cd backend
```

2. Создайте виртуальное окружение (рекомендуется):
```bash
python3 -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Запустите сервер:
```bash
python app.py
```

Сервер будет доступен по адресу: `http://localhost:5001`

### Frontend (React)

1. Перейдите в директорию frontend:
```bash
cd frontend
```

2. Установите зависимости:
```bash
npm install
```

3. Запустите приложение:
```bash
npm start
```

Приложение будет доступно по адресу: `http://localhost:3000`

## Функциональность

### Регистрация пользователя
- Поля: Имя, Фамилия, Email, Пароль
- Валидация на клиенте и сервере
- Пароль хранится в хэшированном виде
- При успешной регистрации - перенаправление на страницу входа

### Вход пользователя
- Проверка Email и пароля
- Генерация JWT-токена при успешной аутентификации
- Сохранение токена в localStorage
- После входа - редирект на защищённую страницу (Dashboard)

### SPA-архитектура
- Динамическая смена страниц без перезагрузки
- Страницы: Регистрация, Вход, Профиль/Dashboard
- Использование React Router для маршрутизации

### Защита маршрутов
- Доступ к защищённым страницам только с валидным JWT
- Неавторизованные пользователи перенаправляются на страницу входа

## API Эндпоинты

- `POST /api/register` - Регистрация нового пользователя
- `POST /api/login` - Вход в систему, выдача JWT-токена
- `GET /api/user` - Получение информации о текущем пользователе (требуется JWT)
- `POST /api/logout` - Выход пользователя

## База данных

Используется SQLite база данных `users.db` со следующей структурой:

- `id` - Уникальный идентификатор (INT, PK, AI)
- `first_name` - Имя пользователя (VARCHAR(100))
- `last_name` - Фамилия пользователя (VARCHAR(100))
- `email` - Email пользователя (VARCHAR(150), UNIQUE)
- `password` - Хэш пароля (VARCHAR(255))
- `role` - Роль пользователя (VARCHAR(50))
- `created_at` - Дата регистрации (DATETIME)

База данных создаётся автоматически при первом запуске backend.

## Технологии

- **Frontend**: React, React Router, Axios
- **Backend**: Flask, Flask-JWT-Extended, Flask-CORS
- **База данных**: SQLite
- **Авторизация**: JWT (JSON Web Tokens)

